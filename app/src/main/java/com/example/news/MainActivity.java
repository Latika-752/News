package com.example.news;

import android.os.Bundle;

import androidx.appcompat.app.AppCompatActivity;

import com.example.newsItem.R;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

public class MainActivity extends AppCompatActivity {

    private static final String TAG = "MainActivity";

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        String jsonResponse = "{\"status\":\"ok\",\"totalResults\":38,\"articles\":[{\"source\":{\"id\":\"cnn\",\"name\":\"CNN\"},\"author\":\"Laura He, CNN Business\",\"title\":\"Asian markets continue the Wall Street sell-off while SoftBank stumbles - CNN\",\"description\":\"Markets in Asia Pacific fell Wednesday, tracking the big tech sell-off on Wall Street that dragged the Nasdaq into correction territory.\",\"url\":\"https://www.cnn.com/2020/09/08/investing/global-stocks/index.html\",\"urlToImage\":\"https://cdn.cnn.com/cnnnext/dam/assets/200908215144-global-stocks-softbank-restricted-super-tease.jpg\",\"publishedAt\":\"2020-09-09T06:06:00Z\",\"content\":null},{\"source\":{\"id\":null,\"name\":\"Daily Mail\"},\"author\":\"By Harriet Alexander For Dailymail.com\",\"title\":\"Army vet who was severely burned by an IED in Iraq slams Donald Trump's critics for using his image - Daily Mail\",\"description\":\"Bobby Henline, 49, is asking social media users to stop using his image to illustrate their comments about Donald Trump's reported dismissal of veterans as 'suckers' and 'losers'.\",\"url\":\"https://www.dailymail.co.uk/news/article-8712459/Army-vet-severely-burned-IED-Iraq-slams-Donald-Trumps-critics-using-image.html\",\"urlToImage\":\"https://i.dailymail.co.uk/1s/2020/09/09/05/32948126-0-image-a-51_1599625727668.jpg\",\"publishedAt\":\"2020-09-09T04:30:48Z\",\"content\":\"A U.S. army veteran blown up on his fourth tour of Iraq has asked critics of Donald Trump to stop using his likeness to illustrate the president's reported comments about 'losers' and 'suckers'.\\r\\nBob… [+2921 chars]\"},{\"source\":{\"id\":null,\"name\":\"The Athletic\"},\"author\":\"Jake Ciely\",\"title\":\"2020 fantasy football Week 1 rankings, sleepers and breakout picks - The Athletic\",\"description\":\"Jake Ciely has his 2020 fantasy football Week 1 rankings with sleepers and breakout picks to get you started with a win\",\"url\":\"https://theathletic.com/2052993/2020/09/09/2020-fantasy-football-week-1-rankings-sleepers-and-breakout-picks/\",\"urlToImage\":\"https://cdn.theathletic.com/app/uploads/2020/09/08185442/Mack_Getty-1024x683.jpg\",\"publishedAt\":\"2020-09-09T04:06:39Z\",\"content\":\"2020 Fantasy Football Week 1 Rankings and SleepersI start each season with a very similar message. It’s, “Don’t Overreact.”\\r\\nWe all know the feeling when you’re in the heat of the moment and say some… [+727 chars]\"},{\"source\":{\"id\":null,\"name\":\"Daily Mail\"},\"author\":\"By Rachel Mcgrath For Dailymail.com\",\"title\":\"Caitlyn Jenner looks pensive on coffee run as Keeping Up With The Kardashians ends after 20 seasons - Daily Mail\",\"description\":\"As of Tuesday night, the 70-year-old has not publicly commented on the demise of the E! reality show which still stars her daughters Kendall and Kylie Jenner.\",\"url\":\"https://www.dailymail.co.uk/tvshowbiz/article-8712525/Caitlyn-Jenner-looks-pensive-coffee-run-Keeping-Kardashians-ends-20-seasons.html\",\"urlToImage\":\"https://i.dailymail.co.uk/1s/2020/09/09/04/32947236-0-image-a-58_1599623401303.jpg\",\"publishedAt\":\"2020-09-09T03:51:38Z\",\"content\":\"She was a regular part of Keeping Up With The Kardashians from its debut in 2007 until her divorce from Kris Jenner in 2015 and her gender transition.\\r\\nAnd as news broke that the E! reality series is… [+3502 chars]\"},{\"source\":{\"id\":\"cnn\",\"name\":\"CNN\"},\"author\":\"Holmes Lybrand and Tara Subramaniam, CNN\",\"title\":\"Fact check: Trump makes 10 false and misleading claims about Biden during North Carolina rally - CNN\",\"description\":\"During a campaign speech in North Carolina on Tuesday, President Donald Trump spent much of his time attacking his opponent, Democratic nominee Joe Biden, with accusations that were often false or misleading.\",\"url\":\"https://www.cnn.com/2020/09/08/politics/donald-trump-north-carolina-rally-fact-check/index.html\",\"urlToImage\":\"https://cdn.cnn.com/cnnnext/dam/assets/200908190931-01-trump-nc-0908-super-tease.jpg\",\"publishedAt\":\"2020-09-09T03:50:00Z\",\"content\":\"Washington, DC (CNN)During a campaign speech in North Carolina on Tuesday, President Donald Trump spent much of his time attacking his opponent, Democratic nominee Joe Biden, with accusations that we… [+7274 chars]\"},{\"source\":{\"id\":null,\"name\":\"NPR\"},\"author\":\"Rachel Treisman\",\"title\":\"New Diversity Standards For Best Picture Oscar Nominees, Starting In 2024 - NPR\",\"description\":\"The new Academy of Motion Picture Arts and Sciences requirements are part of a larger effort to promote inclusion in an industry that has faced criticism for its lack of diversity.\",\"url\":\"https://www.npr.org/sections/live-updates-protests-for-racial-justice/2020/09/08/910928503/new-diversity-standards-for-best-picture-oscar-nominees-starting-in-2024\",\"urlToImage\":\"https://media.npr.org/assets/img/2020/09/08/gettyimages-509077776_wide-6039778a76d1caa176805dc79ff3939e38d8d8d3.jpg?s=1400\",\"publishedAt\":\"2020-09-09T02:42:44Z\",\"content\":\"Films hoping to compete for a Best Picture Oscar in 2024 and beyond must meet specific inclusion standards by hiring people from underrepresented groups for a certain percentage of on- and off-screen… [+2442 chars]\"},{\"source\":{\"id\":\"google-news\",\"name\":\"Google NewsItem\"},\"author\":null,\"title\":\"Xbox Series S: Everything to know about the $300 next gen console - CNET\",\"description\":null,\"url\":\"https://news.google.com/__i/rss/rd/articles/CBMiK2h0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9TXdJSXJHM2Fyek3SAQA?oc=5\",\"urlToImage\":null,\"publishedAt\":\"2020-09-09T01:39:51Z\",\"content\":null},{\"source\":{\"id\":\"fox-news\",\"name\":\"Fox NewsItem\"},\"author\":\"Michael Ruiz\",\"title\":\"Wildfires threaten firefighters, homes across Calif., Newsom warns ‘peak’ yet to come - Fox NewsItem\",\"description\":\"Wildfires continued to burn across the West Coast Tuesday, with more than a dozen California firefighters overrun by advancing flames in one area and the Creek Fire devouring more than 144,000 acres in another.\",\"url\":\"https://www.foxnews.com/us/wildfires-threaten-firefighters-homes-california-newsom\",\"urlToImage\":\"https://static.foxnews.com/foxnews.com/content/uploads/2020/09/AP20252683817555.jpg\",\"publishedAt\":\"2020-09-09T01:39:29Z\",\"content\":\"Wildfires continued to burn across the West Coast Tuesday, with more than a dozen California firefighters overrun by advancing flames in one area and the Creek Fire devouring more than 144,000 acres … [+3373 chars]\"},{\"source\":{\"id\":\"reuters\",\"name\":\"Reuters\"},\"author\":\"Jeff Mason\",\"title\":\"Trump will announce reduction in U.S. troops in Iraq on Wednesday - Reuters\",\"description\":\"President Donald Trump will announce a further drawdown of U.S. troops from Iraq on Wednesday, a senior administration official told reporters on Tuesday.\",\"url\":\"https://www.reuters.com/article/us-usa-trump-iraq-idUSKBN26005V\",\"urlToImage\":\"https://s3.reutersmedia.net/resources/r/?m=02&d=20200909&t=2&i=1532668851&w=1200&r=LYNXMPEG8802Q\",\"publishedAt\":\"2020-09-09T01:33:00Z\",\"content\":\"ABOARD AIR FORCE ONE (Reuters) - President Donald Trump will announce a further drawdown of U.S. troops from Iraq on Wednesday, a senior administration official told reporters on Tuesday. \\r\\nThat anno… [+1075 chars]\"},{\"source\":{\"id\":\"cbs-news\",\"name\":\"CBS NewsItem\"},\"author\":\"Peter Martinez\",\"title\":\"513,415 children in the U.S. have tested positive for coronavirus since pandemic started, report says - CBS NewsItem\",\"description\":\"There have been 70,630 new child cases of COVID-19, a 16% increase over two weeks, between August 20 and September 3, according to the American Academy of Pediatrics.\",\"url\":\"https://www.cbsnews.com/news/half-million-children-positive-coronavirus-cases-since-pandemic-started-2020-09-08/\",\"urlToImage\":\"https://cbsnews2.cbsistatic.com/hub/i/r/2020/09/09/243bd096-5672-4cdd-8d45-72150921c567/thumbnail/1200x630/4f135fd2ca889db9996bbe6350443e07/gettyimages-1270280486.jpg\",\"publishedAt\":\"2020-09-09T01:02:00Z\",\"content\":\"New data out Tuesday shows that more than 500,000 children have tested positive for the coronavirus since the pandemic started, according to the American Academy of Pediatrics (AAP). They said childr… [+3946 chars]\"},{\"source\":{\"id\":null,\"name\":\"NBCSports.com\"},\"author\":null,\"title\":\"2020 NFL Season: Predicting Super Bowl winner, playoff teams, MVP - Comcast SportsNet New England\",\"description\":null,\"url\":\"https://www.nbcsports.com/boston/patriots/2020-nfl-season-predicting-super-bowl-winner-playoff-teams-mvp\",\"urlToImage\":\"https://www.nbcsports.com/sites/rsnunited/files/gallery/hero/Generic%20NFL%20footballs.jpg\",\"publishedAt\":\"2020-09-09T00:36:59Z\",\"content\":null},{\"source\":{\"id\":null,\"name\":\"Daily Beast\"},\"author\":\"Blake Montgomery\",\"title\":\"Trump Boasts About His Campaign Misrepresenting Rallies as 'Peaceful Protests' to Skirt COVID Restrictions - The Daily Beast\",\"description\":\"“They have rules in these Democrat-run states that if you’re campaigning, you cannot have more than five people,” he said.\",\"url\":\"https://www.thedailybeast.com/trump-boasts-about-his-campaign-misrepresenting-rallies-as-peaceful-protests-to-skirt-covid-restrictions\",\"urlToImage\":\"https://img.thedailybeast.com/image/upload/c_crop,d_placeholder_euli9k,h_675,w_1200,x_0,y_0/dpr_2.0/c_limit,w_740/fl_lossy,q_auto/v1599611250/200908-montgomery-trump-tease_c7ywr5\",\"publishedAt\":\"2020-09-09T00:10:00Z\",\"content\":\"President Donald Trump boasted to supporters on Tuesday about his campaign intentionally misrepresenting itself in order to skirt coronavirus restrictions. \\r\\nJoe Biden and his party spent the entire … [+2863 chars]\"},{\"source\":{\"id\":null,\"name\":\"Billboard\"},\"author\":\"Heran Mamo\",\"title\":\"Soul Legends Gladys Knight & Patti LaBelle Set for Next 'Verzuz' Battle - Billboard\",\"description\":\"\",\"url\":\"https://www.billboard.com/articles/news/9446175/gladys-knight-patti-labelle-next-verzuz-battle\",\"urlToImage\":\"https://static.billboard.com/files/media/Gladys-Knight-press-photo-2019-billboard-1548-1024x677.jpg\",\"publishedAt\":\"2020-09-08T23:54:48Z\",\"content\":\"It's the Godmother of Soul versus the Empress of Soul. Patti LaBelle and Gladys Knight's pipes will take the roof off The Filmore on Sunday, Sept. 13 for the next Verzuz battle.\\r\\nVerzuzTV announced t… [+1366 chars]\"},{\"source\":{\"id\":\"cnn\",\"name\":\"CNN\"},\"author\":\"Sebastian Shukla and Caitlin Hu, CNN\",\"title\":\"Belarus activists describe dramatic alleged abduction and last sighting of Maria Kolesnikova - CNN\",\"description\":\"After leading members of Belarus' political opposition seemed to vanish on Monday, raising fears of abduction, two activists reappeared in Kiev on Tuesday with a dramatic tale.\",\"url\":\"https://www.cnn.com/2020/09/08/world/kolesnikova-belarus-opposition-detention-intl/index.html\",\"urlToImage\":\"https://cdn.cnn.com/cnnnext/dam/assets/200824141112-01-maria-kolesnikova-0823-super-tease.jpg\",\"publishedAt\":\"2020-09-08T23:50:00Z\",\"content\":\"(CNN)After leading members of Belarus' political opposition seemed to vanish on Monday, raising fears of abduction, two activists reappeared in Kiev on Tuesday with a dramatic tale.\\r\\nAt a lengthy pre… [+5154 chars]\"},{\"source\":{\"id\":null,\"name\":\"Motley Fool\"},\"author\":\"Jason Hall\",\"title\":\"S&P 500 Sell-Off Deepens: Tech and Energy Stocks Get Crushed - The Motley Fool\",\"description\":\"Today's selling was brutal and broad across every sector, with oil stocks getting pummeled and the tech sell-off continuing.\",\"url\":\"https://www.fool.com/investing/2020/09/08/sp-500-sell-off-deepens-tech-and-energy-stocks-get/\",\"urlToImage\":\"https://g.foolcdn.com/editorial/images/591003/market-crash-dollar-bill-falling-market.jpg\",\"publishedAt\":\"2020-09-08T23:41:00Z\",\"content\":\"On Sept. 8, the S&amp;P 500 Index (SNPINDEX:^SPX) continued to tumble lower, with today's 95-point decline erasing 2.8% in value. That marks the third-straight session where the index, which makes up… [+5803 chars]\"},{\"source\":{\"id\":null,\"name\":\"BBC NewsItem\"},\"author\":\"https://www.facebook.com/bbcnews\",\"title\":\"Thwaites: 'Doomsday Glacier' vulnerability seen in new maps - BBC NewsItem\",\"description\":\"Sea and airborne surveys show how Antarctica's mighty Thwaites ice stream can be melted from below.\",\"url\":\"https://www.bbc.com/news/science-environment-54079587\",\"urlToImage\":\"https://ichef.bbci.co.uk/news/1024/branded_news/F3C9/production/_114290426_1.jpg\",\"publishedAt\":\"2020-09-08T23:26:15Z\",\"content\":\"Image copyrightAlex MazurImage caption\\r\\n The icebreaker, the Nathaniel B Palmer, mapped more than 2,000 sq km of seafloor in front of the glacier\\r\\nScientists may just have identified Thwaites Glacier… [+5446 chars]\"},{\"source\":{\"id\":null,\"name\":\"New York Times\"},\"author\":\"Jeré Longman\",\"title\":\"Track’s Caster Semenya Loses Appeal to Defend 800-Meter Title - The New York Times\",\"description\":\"A ruling by the Swiss Supreme Court appears to have nixed any chance for the South African star to defend her title in her signature event at the Tokyo Olympics next summer.\",\"url\":\"https://www.nytimes.com/2020/09/08/sports/olympics/caster-semenya-court-ruling.html\",\"urlToImage\":\"https://static01.nyt.com/images/2020/09/08/sports/08semenya1/08semenya1-facebookJumbo.jpg\",\"publishedAt\":\"2020-09-08T23:12:00Z\",\"content\":\"Semenya said she would continue to fight for the human rights of female athletes until we can all run free the way we were born.\\r\\nLawyers for Semenya said she was still considering her legal options.… [+1548 chars]\"},{\"source\":{\"id\":null,\"name\":\"New York Times\"},\"author\":\"Alan Feuer\",\"title\":\"Justice Dept. Intervenes in E. Jean Carroll Defamation Lawsuit to Help Trump - The New York Times\",\"description\":\"Government lawyers made the unusual move of seeking to take over President Trump’s defense in a suit brought by Ms. Carroll, who has accused Mr. Trump of raping her in the 1990s.\",\"url\":\"https://www.nytimes.com/2020/09/08/nyregion/donald-trump-jean-carroll-lawsuit-rape.html\",\"urlToImage\":\"https://static01.nyt.com/images/2020/09/09/nyregion/08nytrump/08nytrump-facebookJumbo.jpg\",\"publishedAt\":\"2020-09-08T23:11:00Z\",\"content\":\"The departments request to represent Mr. Trump in the case is in keeping with other arguments that the president has made in state court in New York, said Ben Berwick, a former Justice Department law… [+2227 chars]\"},{\"source\":{\"id\":null,\"name\":\"Phys.Org\"},\"author\":\"Science X staff\",\"title\":\"New fossil ape is discovered in India - Phys.org\",\"description\":\"A 13-million-year-old fossil unearthed in northern India comes from a newly discovered ape, the earliest known ancestor of the modern-day gibbon. The discovery by Christopher C. Gilbert, Hunter College, fills a major void in the ape fossil record and provides…\",\"url\":\"https://phys.org/news/2020-09-fossil-ape-india.html\",\"urlToImage\":\"https://scx2.b-cdn.net/gfx/news/2020/newfossilape.jpg\",\"publishedAt\":\"2020-09-08T23:10:01Z\",\"content\":\"A 13-million-year-old fossil unearthed in northern India comes from a newly discovered ape, the earliest known ancestor of the modern-day gibbon. The discovery by Christopher C. Gilbert, Hunter Colle… [+3841 chars]\"},{\"source\":{\"id\":null,\"name\":\"STAT\"},\"author\":null,\"title\":\"AstraZeneca Covid-19 vaccine study is put on hold - STAT\",\"description\":\"The large, Phase 3 study testing the vaccine has been put on hold due to a suspected serious adverse reaction in a participant in the U.K.\",\"url\":\"https://www.statnews.com/2020/09/08/astrazeneca-covid-19-vaccine-study-put-on-hold-due-to-suspected-adverse-reaction-in-participant-in-the-u-k/\",\"urlToImage\":\"https://www.statnews.com/wp-content/uploads/2016/04/AP_090129060159-1024x576.jpg\",\"publishedAt\":\"2020-09-08T23:06:26Z\",\"content\":\"A large, Phase 3 study testing a Covid-19 vaccine being developed by AstraZeneca and the University of Oxford at dozens of sites across the U.S. has been put on hold due to a suspected serious advers… [+4562 chars]\"}]}";

        try {
            JSONObject rootObject = new JSONObject(jsonResponse);

            JSONArray articlesList = rootObject.optJSONArray("articles");

            JSONObject newsArticle = articlesList.optJSONObject(0);

            String title = newsArticle.optString("title");
            String description = newsArticle.optString("description");
            String url = newsArticle.optString("url");
            String urlToImage = newsArticle.optString("urlToImage");

            NewsItem newsItem = new NewsItem(title, description, url, urlToImage);

        } catch (JSONException e) {
            e.printStackTrace();
        }
    }
}